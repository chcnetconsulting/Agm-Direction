{"version":3,"file":"agm-direction.umd.js","sources":["../../node_modules/tslib/tslib.es6.js","../../node_modules/packages/core/src/lib/services/maps-api-loader/maps-api-loader.ts","../../node_modules/packages/core/src/lib/services/google-maps-api-wrapper.ts","../../node_modules/packages/core/src/lib/services/fit-bounds.ts","../../node_modules/packages/core/src/lib/services/geocoder-service.ts","../../node_modules/packages/core/src/lib/services/maps-api-loader/lazy-maps-api-loader.ts","../../node_modules/packages/core/src/lib/services/managers/marker-manager.ts","../../node_modules/packages/core/src/lib/services/managers/info-window-manager.ts","../../node_modules/packages/core/src/lib/directives/info-window.ts","../../node_modules/packages/core/src/lib/directives/marker.ts","../../node_modules/packages/core/src/lib/directives/polyline-point.ts","../package/src/directive/agm-direction.directive.ts","../package/src/modules/agm-direction.module.ts"],"sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","import { Injectable } from '@angular/core';\n\n@Injectable()\nexport abstract class MapsAPILoader {\n  abstract load(): Promise<void>;\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { MapsAPILoader } from './maps-api-loader/maps-api-loader';\n\n/**\n * Wrapper class that handles the communication with the Google Maps Javascript\n * API v3\n */\n@Injectable()\nexport class GoogleMapsAPIWrapper {\n  private _map: Promise<google.maps.Map>;\n  private _mapResolver: (value?: google.maps.Map) => void;\n\n  constructor(private _loader: MapsAPILoader, private _zone: NgZone) {\n    this._map =\n        new Promise<google.maps.Map>((resolve: () => void) => { this._mapResolver = resolve; });\n  }\n\n  createMap(el: HTMLElement, mapOptions: google.maps.MapOptions): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._loader.load().then(() => {\n        const map = new google.maps.Map(el, mapOptions);\n        this._mapResolver(map);\n        return;\n      });\n    });\n  }\n\n  setMapOptions(options: google.maps.MapOptions) {\n    return this._zone.runOutsideAngular(() => {\n      this._map.then((m: google.maps.Map) => { m.setOptions(options); });\n    });\n  }\n\n  /**\n   * Creates a google map marker with the map context\n   */\n  createMarker(options: google.maps.MarkerOptions = {}, addToMap: boolean = true):\n      Promise<google.maps.Marker> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => {\n        if (addToMap) {\n          options.map = map;\n        }\n        return new google.maps.Marker(options);\n      });\n    });\n  }\n\n  createInfoWindow(options?: google.maps.InfoWindowOptions): Promise<google.maps.InfoWindow> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then(() => new google.maps.InfoWindow(options));\n    });\n  }\n\n  /**\n   * Creates a google.map.Circle for the current map.\n   */\n  createCircle(options: google.maps.CircleOptions): Promise<google.maps.Circle> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => {\n        options.map = map;\n        return new google.maps.Circle(options);\n      });\n    });\n  }\n\n  /**\n   * Creates a google.map.Rectangle for the current map.\n   */\n  createRectangle(options: google.maps.RectangleOptions): Promise<google.maps.Rectangle> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => {\n        options.map = map;\n        return new google.maps.Rectangle(options);\n      });\n    });\n  }\n\n  createPolyline(options: google.maps.PolylineOptions): Promise<google.maps.Polyline> {\n    return this._zone.runOutsideAngular(() => {\n      return this.getNativeMap().then((map: google.maps.Map) => {\n        const line = new google.maps.Polyline(options);\n        line.setMap(map);\n        return line;\n      });\n    });\n  }\n\n  createPolygon(options: google.maps.PolygonOptions): Promise<google.maps.Polygon> {\n    return this._zone.runOutsideAngular(() => {\n      return this.getNativeMap().then((map: google.maps.Map) => {\n        const polygon = new google.maps.Polygon(options);\n        polygon.setMap(map);\n        return polygon;\n      });\n    });\n  }\n\n  /**\n   * Creates a new google.map.Data layer for the current map\n   */\n  createDataLayer(options?: google.maps.Data.DataOptions): Promise<google.maps.Data> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then(m => {\n        const data = new google.maps.Data(options);\n        data.setMap(m);\n        return data;\n      });\n    });\n  }\n\n  /**\n   * Creates a TransitLayer instance for a map\n   * @returns a new transit layer object\n   */\n  createTransitLayer(): Promise<google.maps.TransitLayer>{\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => {\n        const newLayer: google.maps.TransitLayer = new google.maps.TransitLayer();\n        newLayer.setMap(map);\n        return newLayer;\n      });\n    });\n  }\n\n  /**\n   * Creates a BicyclingLayer instance for a map\n   * @returns a new bicycling layer object\n   */\n  createBicyclingLayer(): Promise<google.maps.BicyclingLayer>{\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => {\n        const newLayer: google.maps.BicyclingLayer = new google.maps.BicyclingLayer();\n        newLayer.setMap(map);\n        return newLayer;\n      });\n    });\n  }\n\n  /**\n   * Determines if given coordinates are insite a Polygon path.\n   */\n  containsLocation(latLng: google.maps.LatLng, polygon: google.maps.Polygon): Promise<boolean> {\n    return this._map.then(() => google.maps.geometry.poly.containsLocation(latLng, polygon));\n  }\n\n  subscribeToMapEvent<N extends keyof google.maps.MapHandlerMap>(eventName: N)\n      : Observable<google.maps.MapHandlerMap[N]> {\n    return new Observable((observer) => {\n      this._map.then(m =>\n        m.addListener(eventName, () => this._zone.run(() => observer.next(arguments[0])))\n      );\n    });\n  }\n\n  clearInstanceListeners() {\n    return this._zone.runOutsideAngular(() => {\n      this._map.then((map: google.maps.Map) => {\n        google.maps.event.clearInstanceListeners(map);\n      });\n    });\n  }\n\n  setCenter(latLng: google.maps.LatLngLiteral): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.setCenter(latLng));\n    });\n  }\n\n  getZoom(): Promise<number> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.getZoom());\n    });\n  }\n\n  getBounds(): Promise<google.maps.LatLngBounds> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.getBounds());\n    });\n  }\n\n  getMapTypeId(): Promise<google.maps.MapTypeId> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.getMapTypeId());\n    });\n  }\n\n  setZoom(zoom: number): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.setZoom(zoom));\n    });\n  }\n\n  getCenter(): Promise<google.maps.LatLng> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map: google.maps.Map) => map.getCenter());\n    });\n  }\n\n  panTo(latLng: google.maps.LatLng | google.maps.LatLngLiteral): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map) => map.panTo(latLng));\n    });\n  }\n\n  panBy(x: number, y: number): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map) => map.panBy(x, y));\n    });\n  }\n\n  fitBounds(latLng: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral, padding?: number | google.maps.Padding): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map) => map.fitBounds(latLng, padding));\n    });\n  }\n\n  panToBounds(latLng: google.maps.LatLngBounds | google.maps.LatLngBoundsLiteral, padding?: number | google.maps.Padding): Promise<void> {\n    return this._zone.runOutsideAngular(() => {\n      return this._map.then((map) => map.panToBounds(latLng, padding));\n    });\n  }\n\n  /**\n   * Returns the native Google Maps Map instance. Be careful when using this instance directly.\n   */\n  getNativeMap(): Promise<google.maps.Map> { return this._map; }\n\n  /**\n   * Triggers the given event name on the map instance.\n   */\n  triggerMapEvent(eventName: string): Promise<void> {\n    return this._map.then((m) => google.maps.event.trigger(m, eventName));\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, from, Observable, timer } from 'rxjs';\nimport {\n  flatMap,\n  map,\n  sample,\n  shareReplay,\n  switchMap,\n} from 'rxjs/operators';\nimport { MapsAPILoader } from './maps-api-loader/maps-api-loader';\n\nexport interface FitBoundsDetails {\n  latLng: google.maps.LatLng | google.maps.LatLngLiteral;\n}\n\n/**\n * @internal\n */\nexport type BoundsMap = Map<string, google.maps.LatLng | google.maps.LatLngLiteral>;\n\n/**\n * Class to implement when you what to be able to make it work with the auto fit bounds feature\n * of AGM.\n */\nexport abstract class FitBoundsAccessor {\n  abstract getFitBoundsDetails$(): Observable<FitBoundsDetails>;\n}\n\n/**\n * The FitBoundsService is responsible for computing the bounds of the a single map.\n */\n@Injectable()\nexport class FitBoundsService {\n  protected readonly bounds$: Observable<google.maps.LatLngBounds>;\n  protected readonly _boundsChangeSampleTime$ = new BehaviorSubject<number>(200);\n  protected readonly _includeInBounds$ = new BehaviorSubject<BoundsMap>(new Map<string, google.maps.LatLng | google.maps.LatLngLiteral>());\n\n  constructor(loader: MapsAPILoader) {\n    this.bounds$ = from(loader.load()).pipe(\n      flatMap(() => this._includeInBounds$),\n      sample(\n        this._boundsChangeSampleTime$.pipe(switchMap(time => timer(0, time))),\n      ),\n      map(includeInBounds => this._generateBounds(includeInBounds)),\n      shareReplay(1),\n    );\n  }\n\n  private _generateBounds(\n    includeInBounds: Map<string, google.maps.LatLng | google.maps.LatLngLiteral>\n  ) {\n    const bounds = new google.maps.LatLngBounds();\n    includeInBounds.forEach(b => bounds.extend(b));\n    return bounds;\n  }\n\n  addToBounds(latLng: google.maps.LatLng | google.maps.LatLngLiteral) {\n    const id = this._createIdentifier(latLng);\n    if (this._includeInBounds$.value.has(id)) {\n      return;\n    }\n    const boundsMap = this._includeInBounds$.value;\n    boundsMap.set(id, latLng);\n    this._includeInBounds$.next(boundsMap);\n  }\n\n  removeFromBounds(latLng: google.maps.LatLng | google.maps.LatLngLiteral) {\n    const boundsMap = this._includeInBounds$.value;\n    boundsMap.delete(this._createIdentifier(latLng));\n    this._includeInBounds$.next(boundsMap);\n  }\n\n  changeFitBoundsChangeSampleTime(timeMs: number) {\n    this._boundsChangeSampleTime$.next(timeMs);\n  }\n\n  getBounds$(): Observable<google.maps.LatLngBounds> {\n    return this.bounds$;\n  }\n\n  protected _createIdentifier(latLng: google.maps.LatLng | google.maps.LatLngLiteral): string {\n    return `${latLng.lat}+${latLng.lng}`;\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { bindCallback, ConnectableObservable, Observable, of, ReplaySubject, throwError } from 'rxjs';\nimport { map, multicast, switchMap } from 'rxjs/operators';\nimport { MapsAPILoader } from './maps-api-loader/maps-api-loader';\n\n@Injectable({ providedIn: 'root' })\nexport class AgmGeocoder {\n  protected readonly geocoder$: Observable<google.maps.Geocoder>;\n\n  constructor(loader: MapsAPILoader) {\n    const connectableGeocoder$ = new Observable(subscriber => {\n      loader.load().then(() => subscriber.next());\n    })\n      .pipe(\n        map(() => this._createGeocoder()),\n        multicast(new ReplaySubject(1)),\n      ) as ConnectableObservable<google.maps.Geocoder>;\n\n    connectableGeocoder$.connect(); // ignore the subscription\n    // since we will remain subscribed till application exits\n\n    this.geocoder$ = connectableGeocoder$;\n  }\n\n  geocode(request: google.maps.GeocoderRequest): Observable<google.maps.GeocoderResult[]> {\n    return this.geocoder$.pipe(\n      switchMap((geocoder) => this._getGoogleResults(geocoder, request))\n    );\n  }\n\n  private _getGoogleResults(geocoder: google.maps.Geocoder, request: google.maps.GeocoderRequest):\n       Observable<google.maps.GeocoderResult[]> {\n    const geocodeObservable = bindCallback(geocoder.geocode);\n    return geocodeObservable(request).pipe(\n      switchMap(([results, status]) => {\n        if (status === google.maps.GeocoderStatus.OK) {\n          return of(results);\n        }\n\n        return throwError(status);\n      })\n    );\n  }\n\n  private _createGeocoder() {\n    return new google.maps.Geocoder();\n  }\n}\n","import { Inject, Injectable, InjectionToken, LOCALE_ID, Optional } from '@angular/core';\n\nimport { DocumentRef, WindowRef } from '../../utils/browser-globals';\n\nimport { MapsAPILoader } from './maps-api-loader';\n\nexport enum GoogleMapsScriptProtocol {\n  HTTP = 1,\n  HTTPS = 2,\n  AUTO = 3,\n}\n\n/**\n * Token for the config of the LazyMapsAPILoader. Please provide an object of type {@link\n * LazyMapsAPILoaderConfig}.\n */\nexport const LAZY_MAPS_API_CONFIG = new InjectionToken<LazyMapsAPILoaderConfigLiteral>('angular-google-maps LAZY_MAPS_API_CONFIG');\n\n/**\n * Configuration for the {@link LazyMapsAPILoader}.\n */\nexport interface LazyMapsAPILoaderConfigLiteral {\n  /**\n   * The Google Maps API Key (see:\n   * https://developers.google.com/maps/documentation/javascript/get-api-key)\n   */\n  apiKey?: string;\n\n  /**\n   * The Google Maps client ID (for premium plans).\n   * When you have a Google Maps APIs Premium Plan license, you must authenticate\n   * your application with either an API key or a client ID.\n   * The Google Maps API will fail to load if both a client ID and an API key are included.\n   */\n  clientId?: string;\n\n  /**\n   * The Google Maps channel name (for premium plans).\n   * A channel parameter is an optional parameter that allows you to track usage under your client\n   * ID by assigning a distinct channel to each of your applications.\n   */\n  channel?: string;\n\n  /**\n   * Google Maps API version.\n   */\n  apiVersion?: string;\n\n  /**\n   * Host and Path used for the `<script>` tag.\n   */\n  hostAndPath?: string;\n\n  /**\n   * Protocol used for the `<script>` tag.\n   */\n  protocol?: GoogleMapsScriptProtocol;\n\n  /**\n   * Defines which Google Maps libraries should get loaded.\n   */\n  libraries?: string[];\n\n  /**\n   * The default bias for the map behavior is US.\n   * If you wish to alter your application to serve different map tiles or bias the\n   * application, you can overwrite the default behavior (US) by defining a `region`.\n   * See https://developers.google.com/maps/documentation/javascript/basics#Region\n   */\n  region?: string;\n\n  /**\n   * The Google Maps API uses the browser's preferred language when displaying\n   * textual information. If you wish to overwrite this behavior and force the API\n   * to use a given language, you can use this setting.\n   * See https://developers.google.com/maps/documentation/javascript/basics#Language\n   */\n  language?: string;\n}\n\n@Injectable()\nexport class LazyMapsAPILoader extends MapsAPILoader {\n  protected _scriptLoadingPromise: Promise<void>;\n  protected _config: LazyMapsAPILoaderConfigLiteral;\n  protected _windowRef: WindowRef;\n  protected _documentRef: DocumentRef;\n  protected readonly _SCRIPT_ID: string = 'agmGoogleMapsApiScript';\n  protected readonly callbackName: string = `agmLazyMapsAPILoader`;\n\n  constructor(@Optional() @Inject(LAZY_MAPS_API_CONFIG) config: any = null, w: WindowRef, d: DocumentRef,\n              @Inject(LOCALE_ID) private localeId: string) {\n    super();\n    this._config = config || {};\n    this._windowRef = w;\n    this._documentRef = d;\n  }\n\n  load(): Promise<void> {\n    const window = this._windowRef.getNativeWindow() as any;\n    if (window.google && window.google.maps) {\n      // Google maps already loaded on the page.\n      return Promise.resolve();\n    }\n\n    if (this._scriptLoadingPromise) {\n      return this._scriptLoadingPromise;\n    }\n\n    // this can happen in HMR situations or Stackblitz.io editors.\n    const scriptOnPage = this._documentRef.getNativeDocument().getElementById(this._SCRIPT_ID);\n    if (scriptOnPage) {\n      this._assignScriptLoadingPromise(scriptOnPage);\n      return this._scriptLoadingPromise;\n    }\n\n    const script = this._documentRef.getNativeDocument().createElement('script');\n    script.type = 'text/javascript';\n    script.async = true;\n    script.defer = true;\n    script.id = this._SCRIPT_ID;\n    script.src = this._getScriptSrc(this.callbackName);\n    this._assignScriptLoadingPromise(script);\n    this._documentRef.getNativeDocument().body.appendChild(script);\n    return this._scriptLoadingPromise;\n  }\n\n  private _assignScriptLoadingPromise(scriptElem: HTMLElement) {\n    this._scriptLoadingPromise = new Promise((resolve, reject) => {\n      this._windowRef.getNativeWindow()[this.callbackName] = () => {\n        resolve();\n      };\n\n      scriptElem.onerror = (error: Event) => {\n        reject(error);\n      };\n    });\n  }\n\n  protected _getScriptSrc(callbackName: string): string {\n    const protocolType: GoogleMapsScriptProtocol =\n        (this._config && this._config.protocol) || GoogleMapsScriptProtocol.HTTPS;\n    let protocol: string;\n\n    switch (protocolType) {\n      case GoogleMapsScriptProtocol.AUTO:\n        protocol = '';\n        break;\n      case GoogleMapsScriptProtocol.HTTP:\n        protocol = 'http:';\n        break;\n      case GoogleMapsScriptProtocol.HTTPS:\n        protocol = 'https:';\n        break;\n    }\n\n    const hostAndPath: string = this._config.hostAndPath || 'maps.googleapis.com/maps/api/js';\n    const queryParams: {[key: string]: string | string[]} = {\n      v: this._config.apiVersion || 'quarterly',\n      callback: callbackName,\n      key: this._config.apiKey,\n      client: this._config.clientId,\n      channel: this._config.channel,\n      libraries: this._config.libraries,\n      region: this._config.region,\n      language: this._config.language || (this.localeId !== 'en-US' ? this.localeId : null),\n    };\n    const params: string = Object.keys(queryParams)\n                               .filter((k: string) => queryParams[k] != null)\n                               .filter((k: string) => {\n                                 // remove empty arrays\n                                 return !Array.isArray(queryParams[k]) ||\n                                     (Array.isArray(queryParams[k]) && queryParams[k].length > 0);\n                               })\n                               .map((k: string) => {\n                                 // join arrays as comma seperated strings\n                                 const i = queryParams[k];\n                                 if (Array.isArray(i)) {\n                                   return {key: k, value: i.join(',')};\n                                 }\n                                 return {key: k, value: queryParams[k]};\n                               })\n                               .map((entry: {key: string, value: string}) => {\n                                 return `${entry.key}=${entry.value}`;\n                               })\n                               .join('&');\n    return `${protocol}//${hostAndPath}?${params}`;\n  }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Observable } from 'rxjs';\n\nimport { AgmMarker } from './../../directives/marker';\n\nimport { GoogleMapsAPIWrapper } from './../google-maps-api-wrapper';\n\n@Injectable()\nexport class MarkerManager {\n  protected _markers: Map<AgmMarker, Promise<google.maps.Marker>> =\n      new Map<AgmMarker, Promise<google.maps.Marker>>();\n\n  constructor(protected _mapsWrapper: GoogleMapsAPIWrapper, protected _zone: NgZone) {}\n\n  async convertAnimation(uiAnim: keyof typeof google.maps.Animation | null) {\n    if (uiAnim === null) {\n      return null;\n    } else {\n      return this._mapsWrapper.getNativeMap().then(() => google.maps.Animation[uiAnim]);\n    }\n  }\n\n  deleteMarker(markerDirective: AgmMarker): Promise<void> {\n    const markerPromise = this._markers.get(markerDirective);\n    if (markerPromise == null) {\n      // marker already deleted\n      return Promise.resolve();\n    }\n    return markerPromise.then((marker: google.maps.Marker) => {\n      return this._zone.run(() => {\n        marker.setMap(null);\n        this._markers.delete(markerDirective);\n      });\n    });\n  }\n\n  updateMarkerPosition(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then(\n        (m: google.maps.Marker) => m.setPosition({lat: marker.latitude, lng: marker.longitude}));\n  }\n\n  updateTitle(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setTitle(marker.title));\n  }\n\n  updateLabel(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => { m.setLabel(marker.label); });\n  }\n\n  updateDraggable(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setDraggable(marker.draggable));\n  }\n\n  updateIcon(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setIcon(marker.iconUrl));\n  }\n\n  updateOpacity(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setOpacity(marker.opacity));\n  }\n\n  updateVisible(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setVisible(marker.visible));\n  }\n\n  updateZIndex(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setZIndex(marker.zIndex));\n  }\n\n  updateClickable(marker: AgmMarker): Promise<void> {\n    return this._markers.get(marker).then((m: google.maps.Marker) => m.setClickable(marker.clickable));\n  }\n\n  async updateAnimation(marker: AgmMarker) {\n    const m = await this._markers.get(marker);\n    m.setAnimation(await this.convertAnimation(marker.animation));\n  }\n\n  addMarker(marker: AgmMarker) {\n    const markerPromise = new Promise<google.maps.Marker>(async (resolve) =>\n     this._mapsWrapper.createMarker({\n        position: {lat: marker.latitude, lng: marker.longitude},\n        label: marker.label,\n        draggable: marker.draggable,\n        icon: marker.iconUrl,\n        opacity: marker.opacity,\n        visible: marker.visible,\n        zIndex: marker.zIndex,\n        title: marker.title,\n        clickable: marker.clickable,\n        animation: await this.convertAnimation(marker.animation),\n      }).then(resolve));\n    this._markers.set(marker, markerPromise);\n  }\n\n  getNativeMarker(marker: AgmMarker): Promise<google.maps.Marker> {\n    return this._markers.get(marker);\n  }\n\n  createEventObservable<T extends (google.maps.MouseEvent | void)>(\n      eventName: google.maps.MarkerMouseEventNames | google.maps.MarkerChangeOptionEventNames,\n      marker: AgmMarker): Observable<T> {\n    return new Observable(observer => {\n      this._markers.get(marker).then(m =>\n        m.addListener(eventName, e => this._zone.run(() => observer.next(e)))\n      );\n    });\n  }\n}\n","import { Injectable, NgZone } from '@angular/core';\nimport { Observable, Observer } from 'rxjs';\n\nimport { AgmInfoWindow } from '../../directives/info-window';\n\nimport { GoogleMapsAPIWrapper } from '../google-maps-api-wrapper';\nimport { MarkerManager } from './marker-manager';\n\n@Injectable()\nexport class InfoWindowManager {\n  private _infoWindows: Map<AgmInfoWindow, Promise<google.maps.InfoWindow>> =\n      new Map<AgmInfoWindow, Promise<google.maps.InfoWindow>>();\n\n  constructor(\n      private _mapsWrapper: GoogleMapsAPIWrapper, private _zone: NgZone,\n      private _markerManager: MarkerManager) {}\n\n  deleteInfoWindow(infoWindow: AgmInfoWindow): Promise<void> {\n    const iWindow = this._infoWindows.get(infoWindow);\n    if (iWindow == null) {\n      // info window already deleted\n      return Promise.resolve();\n    }\n    return iWindow.then((i: google.maps.InfoWindow) => {\n      return this._zone.run(() => {\n        i.close();\n        this._infoWindows.delete(infoWindow);\n      });\n    });\n  }\n\n  setPosition(infoWindow: AgmInfoWindow): Promise<void> {\n    return this._infoWindows.get(infoWindow).then((i: google.maps.InfoWindow) => i.setPosition({\n      lat: infoWindow.latitude,\n      lng: infoWindow.longitude,\n    }));\n  }\n\n  setZIndex(infoWindow: AgmInfoWindow): Promise<void> {\n    return this._infoWindows.get(infoWindow)\n        .then((i: google.maps.InfoWindow) => i.setZIndex(infoWindow.zIndex));\n  }\n\n  open(infoWindow: AgmInfoWindow): Promise<void> {\n    return this._infoWindows.get(infoWindow).then((w) => {\n      if (infoWindow.hostMarker != null) {\n        return this._markerManager.getNativeMarker(infoWindow.hostMarker).then((marker) => {\n          return this._mapsWrapper.getNativeMap().then((map) => w.open(map, marker));\n        });\n      }\n      return this._mapsWrapper.getNativeMap().then((map) => w.open(map));\n    });\n  }\n\n  close(infoWindow: AgmInfoWindow): Promise<void> {\n    return this._infoWindows.get(infoWindow).then((w) => w.close());\n  }\n\n  setOptions(infoWindow: AgmInfoWindow, options: google.maps.InfoWindowOptions) {\n    return this._infoWindows.get(infoWindow).then((i: google.maps.InfoWindow) => i.setOptions(options));\n  }\n\n  addInfoWindow(infoWindow: AgmInfoWindow) {\n    const options: google.maps.InfoWindowOptions = {\n      content: infoWindow.content,\n      maxWidth: infoWindow.maxWidth,\n      zIndex: infoWindow.zIndex,\n      disableAutoPan: infoWindow.disableAutoPan,\n    };\n    if (typeof infoWindow.latitude === 'number' && typeof infoWindow.longitude === 'number') {\n      options.position = {lat: infoWindow.latitude, lng: infoWindow.longitude};\n    }\n    const infoWindowPromise = this._mapsWrapper.createInfoWindow(options);\n    this._infoWindows.set(infoWindow, infoWindowPromise);\n  }\n\n   /**\n    * Creates a Google Maps event listener for the given InfoWindow as an Observable\n    */\n  createEventObservable<T>(eventName: string, infoWindow: AgmInfoWindow): Observable<T> {\n    return new Observable((observer: Observer<T>) => {\n      this._infoWindows.get(infoWindow).then((i: google.maps.InfoWindow) => {\n        i.addListener(eventName, (e: T) => this._zone.run(() => observer.next(e)));\n      });\n    });\n  }\n}\n","import { Component, ElementRef, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChange } from '@angular/core';\n\nimport { InfoWindowManager } from '../services/managers/info-window-manager';\n\nimport { AgmMarker } from './marker';\n\nlet infoWindowId = 0;\n\n/**\n * AgmInfoWindow renders a info window inside a {@link AgmMarker} or standalone.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n *        <agm-info-window [disableAutoPan]=\"true\">\n *          Hi, this is the content of the <strong>info window</strong>\n *        </agm-info-window>\n *      </agm-marker>\n *    </agm-map>\n *  `\n * })\n * ```\n */\n@Component({\n  selector: 'agm-info-window',\n  template: `<div class='agm-info-window-content'>\n      <ng-content></ng-content>\n    </div>\n  `,\n})\nexport class AgmInfoWindow implements OnDestroy, OnChanges, OnInit {\n  /**\n   * The latitude position of the info window (only usefull if you use it ouside of a {@link\n   * AgmMarker}).\n   */\n  @Input() latitude: number;\n\n  /**\n   * The longitude position of the info window (only usefull if you use it ouside of a {@link\n   * AgmMarker}).\n   */\n  @Input() longitude: number;\n\n  /**\n   * Disable auto-pan on open. By default, the info window will pan the map so that it is fully\n   * visible when it opens.\n   */\n  @Input() disableAutoPan: boolean;\n\n  /**\n   * All InfoWindows are displayed on the map in order of their zIndex, with higher values\n   * displaying in front of InfoWindows with lower values. By default, InfoWindows are displayed\n   * according to their latitude, with InfoWindows of lower latitudes appearing in front of\n   * InfoWindows at higher latitudes. InfoWindows are always displayed in front of markers.\n   */\n  @Input() zIndex: number;\n\n  /**\n   * Maximum width of the infowindow, regardless of content's width. This value is only considered\n   * if it is set before a call to open. To change the maximum width when changing content, call\n   * close, update maxWidth, and then open.\n   */\n  @Input() maxWidth: number;\n\n  /**\n   * Holds the marker that is the host of the info window (if available)\n   */\n  hostMarker: AgmMarker;\n\n  /**\n   * Holds the native element that is used for the info window content.\n   */\n  content: Node;\n\n  /**\n   * Sets the open state for the InfoWindow. You can also call the open() and close() methods.\n   */\n  @Input() isOpen = false;\n\n  /**\n   * Emits an event when the info window is closed.\n   */\n  @Output() infoWindowClose: EventEmitter<void> = new EventEmitter<void>();\n\n  private static _infoWindowOptionsInputs: string[] = ['disableAutoPan', 'maxWidth'];\n  private _infoWindowAddedToManager = false;\n  private _id: string = (infoWindowId++).toString();\n\n  constructor(private _infoWindowManager: InfoWindowManager, private _el: ElementRef) {}\n\n  ngOnInit() {\n    this.content = this._el.nativeElement.querySelector('.agm-info-window-content');\n    this._infoWindowManager.addInfoWindow(this);\n    this._infoWindowAddedToManager = true;\n    this._updateOpenState();\n    this._registerEventListeners();\n  }\n\n  /** @internal */\n  ngOnChanges(changes: {[key: string]: SimpleChange}) {\n    if (!this._infoWindowAddedToManager) {\n      return;\n    }\n    // tslint:disable: no-string-literal\n    if ((changes['latitude'] || changes['longitude']) && typeof this.latitude === 'number' &&\n        typeof this.longitude === 'number') {\n      this._infoWindowManager.setPosition(this);\n    }\n    if (changes['zIndex']) {\n      this._infoWindowManager.setZIndex(this);\n    }\n    if (changes['isOpen']) {\n      this._updateOpenState();\n    }\n    this._setInfoWindowOptions(changes);\n  }\n  // tslint:enable: no-string-literal\n\n  private _registerEventListeners() {\n    this._infoWindowManager.createEventObservable('closeclick', this).subscribe(() => {\n      this.isOpen = false;\n      this.infoWindowClose.emit();\n    });\n  }\n\n  private _updateOpenState() {\n    this.isOpen ? this.open() : this.close();\n  }\n\n  private _setInfoWindowOptions(changes: {[key: string]: SimpleChange}) {\n    const options: {[propName: string]: any} = {};\n    const optionKeys = Object.keys(changes).filter(\n        k => AgmInfoWindow._infoWindowOptionsInputs.indexOf(k) !== -1);\n    optionKeys.forEach((k) => { options[k] = changes[k].currentValue; });\n    this._infoWindowManager.setOptions(this, options);\n  }\n\n  /**\n   * Opens the info window.\n   */\n  open(): Promise<void> { return this._infoWindowManager.open(this); }\n\n  /**\n   * Closes the info window.\n   */\n  close(): Promise<void> {\n    return this._infoWindowManager.close(this).then(() => { this.infoWindowClose.emit(); });\n  }\n\n  /** @internal */\n  id(): string { return this._id; }\n\n  /** @internal */\n  toString(): string { return 'AgmInfoWindow-' + this._id.toString(); }\n\n  /** @internal */\n  ngOnDestroy() { this._infoWindowManager.deleteInfoWindow(this); }\n}\n","import { AfterContentInit, ContentChildren, Directive, EventEmitter, forwardRef, Input, OnChanges, OnDestroy, Output, QueryList, SimpleChange } from '@angular/core';\nimport { Observable, ReplaySubject, Subscription } from 'rxjs';\nimport { FitBoundsAccessor, FitBoundsDetails } from '../services/fit-bounds';\nimport { MarkerManager } from '../services/managers/marker-manager';\nimport { AgmInfoWindow } from './info-window';\n\nlet markerId = 0;\n\n/**\n * AgmMarker renders a map marker inside a {@link AgmMap}.\n *\n * ### Example\n * ```typescript\n * import { Component } from '@angular/core';\n *\n * @Component({\n *  selector: 'my-map-cmp',\n *  styles: [`\n *    .agm-map-container {\n *      height: 300px;\n *    }\n * `],\n *  template: `\n *    <agm-map [latitude]=\"lat\" [longitude]=\"lng\" [zoom]=\"zoom\">\n *      <agm-marker [latitude]=\"lat\" [longitude]=\"lng\" [label]=\"'M'\">\n *      </agm-marker>\n *    </agm-map>\n *  `\n * })\n * ```\n */\n@Directive({\n  selector: 'agm-marker',\n  providers: [\n    { provide: FitBoundsAccessor, useExisting: forwardRef(() => AgmMarker) },\n  ],\n})\nexport class AgmMarker implements OnDestroy, OnChanges, AfterContentInit, FitBoundsAccessor {\n  /**\n   * The latitude position of the marker.\n   */\n  @Input() latitude: number;\n\n  /**\n   * The longitude position of the marker.\n   */\n  @Input() longitude: number;\n\n  /**\n   * The title of the marker.\n   */\n  @Input() title: string;\n\n  /**\n   * The label (a single uppercase character) for the marker.\n   */\n  @Input() label: string | google.maps.MarkerLabel;\n\n  /**\n   * If true, the marker can be dragged. Default value is false.\n   */\n  // tslint:disable-next-line:no-input-rename\n  @Input('markerDraggable') draggable = false;\n\n  /**\n   * Icon (the URL of the image) for the foreground.\n   */\n  @Input() iconUrl: string | google.maps.Icon | google.maps.Symbol;\n\n  /**\n   * If true, the marker is visible\n   */\n  @Input() visible = true;\n\n  /**\n   * Whether to automatically open the child info window when the marker is clicked.\n   */\n  @Input() openInfoWindow = true;\n\n  /**\n   * The marker's opacity between 0.0 and 1.0.\n   */\n  @Input() opacity = 1;\n\n  /**\n   * All markers are displayed on the map in order of their zIndex, with higher values displaying in\n   * front of markers with lower values. By default, markers are displayed according to their\n   * vertical position on screen, with lower markers appearing in front of markers further up the\n   * screen.\n   */\n  @Input() zIndex = 1;\n\n  /**\n   * If true, the marker can be clicked. Default value is true.\n   */\n  // tslint:disable-next-line:no-input-rename\n  @Input('markerClickable') clickable = true;\n\n  /**\n   * Which animation to play when marker is added to a map.\n   * This can be 'BOUNCE' or 'DROP'\n   */\n  @Input() animation: keyof typeof google.maps.Animation;\n\n  /**\n   * This event is fired when the marker's animation property changes.\n   */\n  @Output() animationChange = new EventEmitter<keyof typeof google.maps.Animation>();\n\n  /**\n   * This event emitter gets emitted when the user clicks on the marker.\n   */\n  @Output() markerClick: EventEmitter<AgmMarker> = new EventEmitter<AgmMarker>();\n\n  /**\n   * This event emitter gets emitted when the user clicks twice on the marker.\n   */\n  @Output() markerDblClick: EventEmitter<AgmMarker> = new EventEmitter<AgmMarker>();\n\n  /**\n   * This event is fired when the user rightclicks on the marker.\n   */\n  @Output() markerRightClick: EventEmitter<void> = new EventEmitter<void>();\n\n  /**\n   * This event is fired when the user starts dragging the marker.\n   */\n  @Output() dragStart: EventEmitter<google.maps.MouseEvent> = new EventEmitter<google.maps.MouseEvent>();\n\n  /**\n   * This event is repeatedly fired while the user drags the marker.\n   */\n  // tslint:disable-next-line: no-output-native\n  @Output() drag: EventEmitter<google.maps.MouseEvent> = new EventEmitter<google.maps.MouseEvent>();\n\n  /**\n   * This event is fired when the user stops dragging the marker.\n   */\n  @Output() dragEnd: EventEmitter<google.maps.MouseEvent> = new EventEmitter<google.maps.MouseEvent>();\n\n  /**\n   * This event is fired when the user mouses over the marker.\n   */\n  @Output() mouseOver: EventEmitter<google.maps.MouseEvent> = new EventEmitter<google.maps.MouseEvent>();\n\n  /**\n   * This event is fired when the user mouses outside the marker.\n   */\n  @Output() mouseOut: EventEmitter<google.maps.MouseEvent> = new EventEmitter<google.maps.MouseEvent>();\n\n  /** @internal */\n  @ContentChildren(AgmInfoWindow) infoWindow: QueryList<AgmInfoWindow> = new QueryList<AgmInfoWindow>();\n\n  private _markerAddedToManger = false;\n  private _id: string;\n  private _observableSubscriptions: Subscription[] = [];\n\n  protected readonly _fitBoundsDetails$: ReplaySubject<FitBoundsDetails> = new ReplaySubject<FitBoundsDetails>(1);\n\n  constructor(private _markerManager: MarkerManager) { this._id = (markerId++).toString(); }\n\n  /* @internal */\n  ngAfterContentInit() {\n    this.handleInfoWindowUpdate();\n    this.infoWindow.changes.subscribe(() => this.handleInfoWindowUpdate());\n  }\n\n  private handleInfoWindowUpdate() {\n    if (this.infoWindow.length > 1) {\n      throw new Error('Expected no more than one info window.');\n    }\n    this.infoWindow.forEach(marker => {\n      marker.hostMarker = this;\n    });\n  }\n\n  /** @internal */\n  ngOnChanges(changes: { [key: string]: SimpleChange }) {\n    if (typeof this.latitude === 'string') {\n      this.latitude = Number(this.latitude);\n    }\n    if (typeof this.longitude === 'string') {\n      this.longitude = Number(this.longitude);\n    }\n    if (typeof this.latitude !== 'number' || typeof this.longitude !== 'number') {\n      return;\n    }\n    if (!this._markerAddedToManger) {\n      this._markerManager.addMarker(this);\n      this._updateFitBoundsDetails();\n      this._markerAddedToManger = true;\n      this._addEventListeners();\n      return;\n    }\n    // tslint:disable: no-string-literal\n    if (changes['latitude'] || changes['longitude']) {\n      this._markerManager.updateMarkerPosition(this);\n      this._updateFitBoundsDetails();\n    }\n    if (changes['title']) {\n      this._markerManager.updateTitle(this);\n    }\n    if (changes['label']) {\n      this._markerManager.updateLabel(this);\n    }\n    if (changes['draggable']) {\n      this._markerManager.updateDraggable(this);\n    }\n    if (changes['iconUrl']) {\n      this._markerManager.updateIcon(this);\n    }\n    if (changes['opacity']) {\n      this._markerManager.updateOpacity(this);\n    }\n    if (changes['visible']) {\n      this._markerManager.updateVisible(this);\n    }\n    if (changes['zIndex']) {\n      this._markerManager.updateZIndex(this);\n    }\n    if (changes['clickable']) {\n      this._markerManager.updateClickable(this);\n    }\n    if (changes['animation']) {\n      this._markerManager.updateAnimation(this);\n    }\n    // tslint:enable: no-string-literal\n\n  }\n\n  /** @internal */\n  getFitBoundsDetails$(): Observable<FitBoundsDetails> {\n    return this._fitBoundsDetails$.asObservable();\n  }\n\n  protected _updateFitBoundsDetails() {\n    this._fitBoundsDetails$.next({ latLng: { lat: this.latitude, lng: this.longitude } });\n  }\n\n  private _addEventListeners() {\n    const cs = this._markerManager.createEventObservable('click', this).subscribe(() => {\n      if (this.openInfoWindow) {\n        this.infoWindow.forEach(infoWindow => infoWindow.open());\n      }\n      this.markerClick.emit(this);\n    });\n    this._observableSubscriptions.push(cs);\n\n    const dcs = this._markerManager.createEventObservable('dblclick', this).subscribe(() => {\n      this.markerDblClick.emit(null);\n    });\n    this._observableSubscriptions.push(dcs);\n\n    const rc = this._markerManager.createEventObservable('rightclick', this).subscribe(() => {\n      this.markerRightClick.emit(null);\n    });\n    this._observableSubscriptions.push(rc);\n\n    const ds =\n        this._markerManager.createEventObservable<google.maps.MouseEvent>('dragstart', this)\n            .subscribe(e => this.dragStart.emit(e));\n    this._observableSubscriptions.push(ds);\n\n    const d =\n        this._markerManager.createEventObservable<google.maps.MouseEvent>('drag', this)\n          .subscribe(e => this.drag.emit(e));\n    this._observableSubscriptions.push(d);\n\n    const de =\n        this._markerManager.createEventObservable<google.maps.MouseEvent>('dragend', this)\n          .subscribe(e => this.dragEnd.emit(e));\n    this._observableSubscriptions.push(de);\n\n    const mover =\n        this._markerManager.createEventObservable<google.maps.MouseEvent>('mouseover', this)\n          .subscribe(e => this.mouseOver.emit(e));\n    this._observableSubscriptions.push(mover);\n\n    const mout =\n        this._markerManager.createEventObservable<google.maps.MouseEvent>('mouseout', this)\n          .subscribe(e => this.mouseOut.emit(e));\n    this._observableSubscriptions.push(mout);\n\n    const anChng =\n      this._markerManager.createEventObservable<void>('animation_changed', this)\n        .subscribe(() => {\n          this.animationChange.emit(this.animation);\n        });\n    this._observableSubscriptions.push(anChng);\n  }\n\n  /** @internal */\n  id(): string { return this._id; }\n\n  /** @internal */\n  toString(): string { return 'AgmMarker-' + this._id.toString(); }\n\n  /** @internal */\n  ngOnDestroy() {\n    this._markerManager.deleteMarker(this);\n    // unsubscribe all registered observable subscriptions\n    this._observableSubscriptions.forEach((s) => s.unsubscribe());\n  }\n}\n","import { Directive, EventEmitter, forwardRef, Input, OnChanges, Output, SimpleChanges } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { FitBoundsAccessor, FitBoundsDetails } from '../services/fit-bounds';\n\n/**\n * AgmPolylinePoint represents one element of a polyline within a  {@link\n * AgmPolyline}\n */\n@Directive({\n  selector: 'agm-polyline-point',\n  providers: [\n    {provide: FitBoundsAccessor, useExisting: forwardRef(() => AgmPolylinePoint)},\n  ],\n})\nexport class AgmPolylinePoint implements OnChanges, FitBoundsAccessor {\n  /**\n   * The latitude position of the point.\n   */\n  @Input() public latitude: number;\n\n  /**\n   * The longitude position of the point;\n   */\n  @Input() public longitude: number;\n\n  /**\n   * This event emitter gets emitted when the position of the point changed.\n   */\n  @Output() positionChanged: EventEmitter<google.maps.LatLngLiteral> = new EventEmitter<google.maps.LatLngLiteral>();\n\n  constructor() {}\n\n  ngOnChanges(changes: SimpleChanges): any {\n    // tslint:disable: no-string-literal\n    if (changes['latitude'] || changes['longitude']) {\n      this.positionChanged.emit({\n        lat: changes['latitude'] ? changes['latitude'].currentValue : this.latitude,\n        lng: changes['longitude'] ? changes['longitude'].currentValue : this.longitude,\n      });\n    }\n    // tslint:enable: no-string-literal\n  }\n\n  /** @internal */\n  getFitBoundsDetails$(): Observable<FitBoundsDetails> {\n    return this.positionChanged.pipe(\n      startWith({lat: this.latitude, lng: this.longitude}),\n      map(position => ({latLng: position}))\n    );\n  }\n}\n","import { Directive, Input, Output, OnChanges, OnInit, EventEmitter, OnDestroy } from '@angular/core';\nimport { GoogleMapsAPIWrapper } from '@agm/core';\n\n@Directive({\n  selector: 'agm-direction',\n})\nexport class AgmDirection implements OnChanges, OnInit, OnDestroy {\n\n  @Input() origin: string | google.maps.Place | google.maps.LatLng | google.maps.LatLngLiteral;\n\n  @Input() destination: string | google.maps.Place | google.maps.LatLng | google.maps.LatLngLiteral;\n\n  @Input() travelMode?: google.maps.TravelMode;\n\n  @Input() transitOptions?: google.maps.TransitOptions;\n\n  @Input() drivingOptions?: google.maps.DrivingOptions;\n\n  @Input() waypoints: google.maps.DirectionsWaypoint[] = [];\n\n  @Input() optimizeWaypoints = true;\n\n  @Input() provideRouteAlternatives = false;\n\n  @Input() avoidHighways = false;\n\n  @Input() avoidTolls = false;\n\n  @Input() renderOptions?: google.maps.DirectionsRendererOptions;\n\n  @Input() panel?: Element;\n\n  @Input() markerOptions: {\n    origin: google.maps.MarkerOptions,\n    destination: google.maps.MarkerOptions,\n    waypoints: google.maps.MarkerOptions,\n  } = { origin: {}, destination: {}, waypoints: {} };\n\n  @Input() infoWindow: google.maps.InfoWindow;\n\n  // Remove or draw direction\n  @Input() visible = true;\n\n  // Render exist direction\n  @Input() renderRoute?: google.maps.DirectionsResult | null;\n\n  // Direction change event handler\n  @Output() onChange: EventEmitter<google.maps.DirectionsResult> = new EventEmitter<google.maps.DirectionsResult>();\n\n  // Direction response for the new request\n  @Output() onResponse: EventEmitter<google.maps.DirectionsResult> = new EventEmitter<google.maps.DirectionsResult>();\n\n  // Send a custom infowindow\n  @Output() sendInfoWindow: EventEmitter<google.maps.InfoWindow> = new EventEmitter<google.maps.InfoWindow>();\n\n  // Status of Directions Query (google.maps.DirectionsStatus.OVER_QUERY_LIMIT)\n  @Output() status: EventEmitter<google.maps.DirectionsStatus> = new EventEmitter<google.maps.DirectionsStatus>();\n\n  // Marker drag event handler\n  @Output() originDrag: EventEmitter<any> = new EventEmitter<any>();\n  @Output() destinationDrag: EventEmitter<any> = new EventEmitter<any>();\n\n  public directionsService: google.maps.DirectionsService;\n  public directionsRenderer: google.maps.DirectionsRenderer;\n\n  // Use for custom marker\n  private originMarker?: any;\n  private destinationMarker?: any;\n  private waypointsMarker: Array<google.maps.Marker> = [];\n\n  // Use for visible flag\n  private isFirstChange = true;\n\n  constructor(\n    private gmapsApi: GoogleMapsAPIWrapper,\n  ) { }\n\n  ngOnInit() {\n    if (this.visible === true) {\n      this.directionDraw();\n    }\n  }\n\n  ngOnChanges(obj: any) {\n    /**\n     * When visible is false then remove the direction layer\n     */\n    if (!this.visible) {\n      try {\n        this.removeMarkers();\n        this.removeDirections();\n      } catch (e) { }\n    } else {\n      if (this.isFirstChange) {\n        /**\n         * When visible is false at the first time\n         */\n        if (typeof this.directionsRenderer === 'undefined') {\n          this.directionDraw();\n        }\n        this.isFirstChange = false;\n        return;\n      }\n\n      /**\n       * When renderOptions are not first change then reset the display\n       */\n      if (typeof obj.renderOptions !== 'undefined') {\n        if (obj.renderOptions.firstChange === false) {\n          this.removeMarkers();\n          this.removeDirections();\n        }\n      }\n      this.directionDraw();\n    }\n  }\n\n  ngOnDestroy() {\n    this.destroyMarkers();\n    this.removeDirections();\n  }\n\n  /**\n   * This event is fired when the user creating or updating this direction\n   */\n  private directionDraw() {\n    this.gmapsApi.getNativeMap().then(_map => {\n\n      const map = _map as unknown as google.maps.Map<Element>;\n\n      if (typeof this.directionsRenderer === 'undefined') {\n        this.directionsRenderer = new google.maps.DirectionsRenderer(this.renderOptions);\n        // @ts-ignore\n        this.directionsRenderer.setMap(map);\n        this.directionsRenderer.addListener('directions_changed', () => {\n          this.onChange.emit(this.directionsRenderer.getDirections());\n        });\n      }\n\n      if (typeof this.directionsService === 'undefined') {\n        this.directionsService = new google.maps.DirectionsService();\n      }\n\n      if (typeof this.panel === 'undefined') {\n        // @ts-ignore\n        this.directionsRenderer.setPanel(null);\n      } else {\n        this.directionsRenderer.setPanel(this.panel);\n      }\n\n      // Render exist direction\n      if (this.renderRoute) {\n        this.directionsRenderer.setDirections(this.renderRoute);\n        this.renderRoute = undefined;\n      } else {\n\n        // Request new direction\n        this.directionsService.route({\n          origin: this.origin,\n          destination: this.destination,\n          travelMode: this.travelMode || google.maps.TravelMode.DRIVING,\n          transitOptions: this.transitOptions,\n          drivingOptions: this.drivingOptions,\n          waypoints: this.waypoints,\n          optimizeWaypoints: this.optimizeWaypoints,\n          provideRouteAlternatives: this.provideRouteAlternatives,\n          avoidHighways: this.avoidHighways,\n          avoidTolls: this.avoidTolls,\n        }, (response, status) => {\n\n          this.onResponse.emit(response);\n\n          // Emit Query Status\n          this.status.emit(status);\n\n          /**\n           * DirectionsStatus\n           * https://developers.google.com/maps/documentation/javascript/directions#DirectionsStatus\n           */\n          switch (status) {\n            case google.maps.DirectionsStatus.OK:\n\n              this.directionsRenderer.setDirections(response);\n\n              /**\n               * Emit The DirectionsResult Object\n               * https://developers.google.com/maps/documentation/javascript/directions?hl=en#DirectionsResults\n               */\n              // Custom Markers\n              if (typeof this.markerOptions !== 'undefined') {\n\n                this.destroyMarkers();\n\n                // Set custom markers\n                const _route = response.routes[0].legs[0];\n                try {\n                  // Origin Marker\n                  if (typeof this.markerOptions.origin !== 'undefined') {\n                    this.markerOptions.origin.map = map;\n                    this.markerOptions.origin.position = _route.start_location;\n                    this.originMarker = this.setMarker(\n                      map,\n                      this.originMarker,\n                      this.markerOptions.origin,\n                      _route.start_address,\n                    );\n\n                    if (this.markerOptions.origin.draggable) {\n                      this.originMarker.addListener('dragend', () => {\n                        this.origin = this.originMarker.position;\n                        this.directionDraw();\n                        this.originDrag.emit(this.origin);\n                      });\n                    }\n                  }\n                  // Destination Marker\n                  if (typeof this.markerOptions.destination !== 'undefined') {\n                    this.markerOptions.destination.map = map;\n                    this.markerOptions.destination.position = _route.end_location;\n                    this.destinationMarker = this.setMarker(\n                      map,\n                      this.destinationMarker,\n                      this.markerOptions.destination,\n                      _route.end_address,\n                    );\n                    if (this.markerOptions.destination.draggable) {\n                      this.destinationMarker.addListener('dragend', () => {\n                        this.destination = this.destinationMarker.position;\n                        this.directionDraw();\n                        this.destinationDrag.emit(this.destination);\n                      });\n                    }\n                  }\n\n                  // Waypoints Marker\n                  if (typeof this.markerOptions.waypoints !== 'undefined') {\n\n                    this.waypoints.forEach((waypoint, index) => {\n\n                      // If waypoints are not array then set all the same\n                      if (!Array.isArray(this.markerOptions.waypoints)) {\n                        this.markerOptions.waypoints.map = map;\n                        this.markerOptions.waypoints.position = _route.via_waypoints[index];\n                        this.waypointsMarker.push(this.setMarker(\n                          map,\n                          waypoint,\n                          this.markerOptions.waypoints,\n                          _route.via_waypoints[index],\n                        ));\n                      } else {\n                        this.markerOptions.waypoints[index].map = map;\n                        this.markerOptions.waypoints[index].position = _route.via_waypoints[index];\n                        this.waypointsMarker.push(this.setMarker(\n                          map,\n                          waypoint,\n                          this.markerOptions.waypoints[index],\n                          _route.via_waypoints[index],\n                        ));\n                      }\n\n                    }); // End forEach\n\n                  }\n                } catch (err) {\n                  console.error('MarkerOptions error.', err);\n                }\n              }\n\n              break;\n\n            case google.maps.DirectionsStatus.OVER_QUERY_LIMIT:\n              console.warn('The webpage has sent too many requests within the allowed time period.');\n              break;\n            default:\n              // console.warn(status);\n              break;\n          } // End switch\n        });\n      }\n    });\n  }\n\n  /**\n   * Custom Origin and Destination Icon\n   * @param map map\n   * @param marker marker\n   * @param markerOpts properties\n   * @param content marker's infowindow content\n   * @returns new marker\n   * @memberof AgmDirection\n   */\n  private setMarker(\n    map: google.maps.Map,\n    marker: google.maps.Marker | google.maps.DirectionsWaypoint,\n    markerOpts: any,\n    content: google.maps.LatLng | string\n  ): google.maps.Marker {\n    if (typeof this.infoWindow === 'undefined') {\n      this.infoWindow = new google.maps.InfoWindow();\n      this.sendInfoWindow.emit(this.infoWindow);\n    }\n\n    marker = new google.maps.Marker(markerOpts);\n    // https://developers.google.com/maps/documentation/javascript/reference/marker?hl=zh-tw#MarkerOptions.clickable\n    if (marker.getClickable()) {\n      marker.addListener('click', () => {\n        const infowindoContent: string = typeof markerOpts.infoWindow === 'undefined' ? content : markerOpts.infoWindow;\n        this.infoWindow.setContent(infowindoContent);\n        this.infoWindow.open(map, marker as google.maps.MVCObject);\n      });\n    }\n    return marker;\n  }\n\n  /**\n   * This event is fired when remove markers\n   */\n  private removeMarkers(): void {\n    if (typeof this.originMarker !== 'undefined') {\n      this.originMarker.setMap(null);\n    }\n    if (typeof this.destinationMarker !== 'undefined') {\n      this.destinationMarker.setMap(null);\n    }\n    this.waypointsMarker.forEach((w: any) => {\n      if (typeof w !== 'undefined') {\n        w.setMap(null);\n      }\n    });\n  }\n\n  /**\n   * This event is fired when remove directions\n   */\n  private removeDirections(): void {\n    if (this.directionsRenderer !== undefined) {\n      // @ts-ignore\n      this.directionsRenderer.setPanel(null);\n      this.directionsRenderer.setMap(null);\n      // @ts-ignore\n      this.directionsRenderer = undefined;\n    }\n  }\n\n  /**\n   * This event is fired when destroy markers\n   */\n  private destroyMarkers(): void {\n    // Remove origin markers\n    try {\n      if (typeof this.originMarker !== 'undefined') {\n        google.maps.event.clearListeners(this.originMarker, 'click');\n        if (this.markerOptions.origin.draggable) {\n          google.maps.event.clearListeners(this.originMarker, 'dragend');\n        }\n      }\n      if (typeof this.destinationMarker !== 'undefined') {\n        google.maps.event.clearListeners(this.destinationMarker, 'click');\n        if (this.markerOptions.origin.draggable) {\n          google.maps.event.clearListeners(this.destinationMarker, 'dragend');\n        }\n      }\n      this.waypointsMarker.forEach((w: any) => {\n        if (typeof w !== 'undefined') {\n          google.maps.event.clearListeners(w, 'click');\n        }\n      });\n      this.removeMarkers();\n\n    } catch (err) {\n      console.error('Can not reset custom marker.', err);\n    }\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { AgmDirection } from '../directive/agm-direction.directive';\n\n@NgModule({\n  declarations: [\n    AgmDirection,\n  ],\n  exports: [\n    AgmDirection,\n  ]\n})\nexport class AgmDirectionModule {\n  public static forRoot(): ModuleWithProviders<AgmDirectionModule> {\n    return {\n      ngModule: AgmDirectionModule,\n    };\n  }\n\n  public static forChild(): ModuleWithProviders<AgmDirectionModule> {\n    return {\n      ngModule: AgmDirectionModule,\n    };\n  }\n}\n"],"names":["Injectable","Observable","NgZone","map","multicast","ReplaySubject","switchMap","bindCallback","of","throwError","InjectionToken","EventEmitter","Component","ElementRef","Input","Output","QueryList","Directive","forwardRef","ContentChildren","startWith","NgModule"],"mappings":"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"}